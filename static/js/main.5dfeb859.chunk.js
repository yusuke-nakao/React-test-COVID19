(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[0],{136:function(e,t,n){e.exports=n(150)},141:function(e,t,n){},144:function(e,t,n){},145:function(e,t){},150:function(e,t,n){"use strict";n.r(t);var o=n(9),a=n.n(o),r=n(113),i=n.n(r),c=(n(141),n(114)),l=n(115),s=n(122),u=n(124),p=n(162),d=n(163),m=n(100),h=(n(144),{longitude:139.7212733,latitude:35.6606213,zoom:8,pitch:45,bearing:0}),f=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).state={geojsonPoint:null},o}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://covid19-japan-web-api.now.sh/api/v1/prefectures").then((function(e){return e.json()})).then((function(t){e.setState({geojsonPoint:e.makeGeoJson(t)}),console.log("result",t)}),(function(e){console.log(e)}))}},{key:"makeGeoJson",value:function(e){var t={type:"FeatureCollection",features:[]};return e.forEach((function(e){var n={id:e.id,type:"Feature",geometry:{type:"Point",coordinates:[e.lng,e.lat]},properties:{id:e.id,name:e.name_ja,lat:e.lat,lng:e.lng,cases:e.cases,deaths:e.deaths}};t.features.push(n)})),console.log("retJson",t),t}},{key:"_renderTooltip",value:function(){var e=(this.state||{}).hoveredObject;if(console.log("hoveredObject",e),void 0!==e)return a.a.createElement(m.a,{longitude:e.geometry.coordinates[0],latitude:e.geometry.coordinates[1]},a.a.createElement("div",null,a.a.createElement("p",null,"id: ",e.properties.id),a.a.createElement("p",null,"\u5834\u6240: ",e.properties.name),a.a.createElement("p",null,"\u611f\u67d3\u6570: ",e.properties.cases,"\u4eba"),a.a.createElement("p",null,"\u6b7b\u8005\u6570: ",e.properties.deaths,"\u4eba")))}},{key:"render",value:function(){var e=this,t=this.state.geojsonPoint;console.log("geojsonPoint: ",t);var n=[new d.a({id:"Point_layer",data:t,getRadius:function(e){return 4e3},getFillColor:function(e){return[245,36,36,150]},pickable:!0,onHover:function(t){return e.setState({hoveredObject:t.object})}})];return a.a.createElement(a.a.Fragment,null,a.a.createElement(p.a,{initialViewState:h,controller:!0,layers:n},a.a.createElement(m.b,{mapStyle:"mapbox://styles/mapbox/streets-v11",mapboxApiAccessToken:"pk.eyJ1IjoieXVzdWtlZWVlZWU1NSIsImEiOiJjazhudGpiczgxMmN5M2dxb3FyMTBvZGUwIn0.4rGM-WGp5mEoCdGQDHEYLA"},this._renderTooltip())))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t){}},[[136,1,2]]]);
//# sourceMappingURL=main.5dfeb859.chunk.js.map