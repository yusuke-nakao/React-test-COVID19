function S(n){var r=0;return function(){return r<n.length?{done:!1,value:n[r++]}:{done:!0}}}function T(n){var r="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];return r?r.call(n):{next:S(n)}}function U(n){for(var r,y=[];!(r=n.next()).done;)y.push(r.value);return y}
(function(){function n(a,b){a="__pwacompat_"+a;void 0!==b&&(z[a]=b);return z[a]}function r(){var a=(A=document.head.querySelector('link[rel="manifest"]'))?A.href:"";if(!a)throw'can\'t find <link rel="manifest" href=".." />\'';var b=y([a,window.location]),e=n("manifest");if(e)try{var g=JSON.parse(e);H(g,b)}catch(u){console.warn("PWACompat error",u)}else{var p=new XMLHttpRequest;p.open("GET",a);p.withCredentials="use-credentials"===A.getAttribute("crossorigin");p.onload=function(){try{var u=JSON.parse(p.responseText);
n("manifest",p.responseText);H(u,b)}catch(v){console.warn("PWACompat error",v)}};p.send(null)}}function y(a){for(var b={},e=0;e<a.length;b={c:b.c},++e){b.c=a[e];try{return new URL("",b.c),function(g){return function(p){return(new URL(p||"",g.c)).toString()}}(b)}catch(g){}}return function(g){return g||""}}function E(a,b){a=document.createElement(a);for(var e in b)a.setAttribute(e,b[e]);document.head.appendChild(a);return a}function h(a,b){b&&(!0===b&&(b="yes"),E("meta",{name:a,content:b}))}function w(a){a=
a.sizes.split(/\s+/g).map(function(b){return"any"===b?Infinity:parseInt(b,10)||0});return Math.max.apply(Math,a instanceof Array?a:U(T(a)))}function H(a,b){function e(f,c,k,m){var d=window.devicePixelRatio,l=F({width:f*d,height:c*d});l.scale(d,d);l.fillStyle=B;l.fillRect(0,0,f,c);l.translate(f/2,(c-20)/2);m&&(c=m.width/d,d=m.height/d,128<d&&(c/=d/128,d=128),48<=c&&48<=d&&(l.drawImage(m,c/-2,d/-2,c,d),l.translate(0,d/2+20)));l.fillStyle=V?"white":"black";l.font="24px HelveticaNeue-CondensedBold";m=
window.getComputedStyle(A);l.font=m.getPropertyValue("--pwacompat-splash-font");d=a.name||a.short_name||document.title;c=l.measureText(d);m=c.f||24;l.translate(0,m);if(c.width<.8*f)l.fillText(d,c.width/-2,0);else for(d=d.split(/\s+/g),c=1;c<=d.length;++c){var I=d.slice(0,c).join(" "),J=l.measureText(I).width;if(c===d.length||J>.6*f)l.fillText(I,J/-2,0),l.translate(0,1.2*m),d.splice(0,c),c=0}return function(){var K=l.canvas.toDataURL();g(k,K);return K}}function g(f,c){var k=document.createElement("link");
k.setAttribute("rel","apple-touch-startup-image");k.setAttribute("media","(orientation: "+f+")");k.setAttribute("href",c);document.head.appendChild(k)}function p(f,c){var k=window.screen,m=e(k.availWidth,k.availHeight,"portrait",f),d=e(k.availHeight,k.availWidth,"landscape",f);window.setTimeout(function(){x.p=m();window.setTimeout(function(){x.l=d();c()},10)},10)}function u(f){function c(){--k||f()}var k=C.length+1;c();C.forEach(function(m){var d=new Image;d.crossOrigin="anonymous";d.onerror=c;d.onload=
function(){d.onload=null;m.href=L(d,B,!0);x.i[d.src]=m.href;c()};d.src=m.href})}function v(){n("iOS",JSON.stringify(x))}function M(){var f=C.shift();if(f){var c=new Image;c.crossOrigin="anonymous";c.onerror=function(){return void M()};c.onload=function(){c.onload=null;p(c,function(){var k=a.background_color&&L(c,B);k?(f.href=k,x.i[c.src]=k,u(v)):v()})};c.src=f.href}else p(null,v)}var t=a.icons||[],q=t.filter(function(f){return(f.h||"").includes("maskable")});t.sort(function(f,c){return w(c)-w(f)});
q.sort(function(f,c){return w(c)-w(f)});var C=(0<q.length?q:t).map(function(f){var c={rel:"icon",href:b(f.src),sizes:f.sizes};E("link",c);if(D&&!(120>w(f)))return c.rel="apple-touch-icon",E("link",c)}).filter(Boolean);q=document.head.querySelector('meta[name="viewport"]');var W=!!(q&&q.content||"").match(/\bviewport-fit\s*=\s*cover\b/),N=a.display;q=-1!==X.indexOf(N);h("mobile-web-app-capable",q);Y(a.theme_color||"black",W);Z&&(h("application-name",a.short_name),h("msapplication-tooltip",a.description),
h("msapplication-starturl",b(a.start_url||".")),h("msapplication-navbutton-color",a.theme_color),(t=t[0])&&h("msapplication-TileImage",b(t.src)),h("msapplication-TileColor",a.background_color));document.head.querySelector('[name="theme-color"]')||h("theme-color",a.theme_color);if(D){var B=a.background_color||"#f8f9fa",V=O(B);(t=aa(a.related_applications))&&h("apple-itunes-app","app-id="+t);h("apple-mobile-web-app-capable",q);h("apple-mobile-web-app-title",a.short_name||a.name);if(q=n("iOS"))try{var G=
JSON.parse(q);g("portrait",G.p);g("landscape",G.l);C.forEach(function(f){var c=G.i[f.href];c&&(f.href=c)});return}catch(f){}var x={i:{}};M()}else t={por:"portrait",lan:"landscape"}[String(a.orientation||"").substr(0,3)]||"",h("x5-orientation",t),h("screen-orientation",t),"fullscreen"===N?(h("x5-fullscreen","true"),h("full-screen","yes")):q&&(h("x5-page-mode","app"),h("browsermode","application"))}function aa(a){var b;(a||[]).filter(function(e){return"itunes"===e.platform}).forEach(function(e){e.id?
b=e.id:(e=e.url.match(/id(\d+)/))&&(b=e[1])});return b}function Y(a,b){if(D||ba){var e=O(a);if(D)h("apple-mobile-web-app-status-bar-style",b?"black-translucent":e?"black":"default");else{a:{try{var g=Windows.UI.ViewManagement.ApplicationView.getForCurrentView().titleBar;break a}catch(p){}g=void 0}if(b=g)b.foregroundColor=P(e?"black":"white"),b.backgroundColor=P(a)}}}function P(a){a=Q(a);return{r:a[0],g:a[1],b:a[2],a:a[3]}}function Q(a){var b=F();b.fillStyle=a;b.fillRect(0,0,1,1);return b.getImageData(0,
0,1,1).data||[]}function O(a){a=Q(a).map(function(b){b/=255;return.03928>b?b/12.92:Math.pow((b+.055)/1.055,2.4)});return 3<Math.abs(1.05/(.2126*a[0]+.7152*a[1]+.0722*a[2]+.05))}function L(a,b,e){e=void 0===e?!1:e;var g=F(a);g.drawImage(a,0,0);if(e||255!==g.getImageData(0,0,1,1).data[3])return g.globalCompositeOperation="destination-over",g.fillStyle=b,g.fillRect(0,0,a.width,a.height),g.canvas.toDataURL()}function F(a){a=void 0===a?{width:1,height:1}:a;var b=a.height,e=document.createElement("canvas");
e.width=a.width;e.height=b;return e.getContext("2d")}if("onload"in XMLHttpRequest.prototype&&!navigator.j){var X=["standalone","fullscreen","minimal-ui"],R=navigator.userAgent||"",D=navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")&&(-1!==R.indexOf("Mobile/")||"standalone"in navigator)||!1,Z=!!R.match(/(MSIE |Edge\/|Trident\/)/),ba="undefined"!==typeof Windows,A;try{var z=window.sessionStorage}catch(a){}z=z||{};"complete"===document.readyState?r():window.addEventListener("load",r)}})();
